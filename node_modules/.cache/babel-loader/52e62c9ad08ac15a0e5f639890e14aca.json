{"ast":null,"code":"import _classCallCheck from\"/Users/Nanis/Flatiron/code/mod5/constellation-synth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Nanis/Flatiron/code/mod5/constellation-synth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Nanis/Flatiron/code/mod5/constellation-synth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Nanis/Flatiron/code/mod5/constellation-synth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import Tuna from'tunajs';var OSC4=/*#__PURE__*/function(_React$Component){_inherits(OSC4,_React$Component);var _super=_createSuper(OSC4);function OSC4(props){var _this;_classCallCheck(this,OSC4);_this=_super.call(this,props);_this.state={context:[],isStarted:false};return _this;}_createClass(OSC4,[{key:\"componentWillMount\",value:function componentWillMount(){var contextClass=window.AudioContext||window.webkitAudioContext;if(contextClass){// Web Audio API is available.\nthis.state.context=new contextClass();}else{alert('Web Audio API is not supported in this browser.');}}},{key:\"turnOnOSC4\",value:function turnOnOSC4(){if(this.props.isOSC4On){if(!this.state.isStarted){// tuna context\nvar tuna=new Tuna(this.state.context);// setting effects state\nthis.osc=new OscillatorNode(this.state.context);this.chorus=new tuna.Chorus(this.state.context);this.lfo=new OscillatorNode(this.state.context);this.filter=new tuna.Filter(this.state.context);this.filter2=new tuna.Filter(this.state.context);this.tremolo=new tuna.Tremolo(this.state.context);this.reverb=new tuna.Convolver(this.state.context);this.cabinet=new tuna.Cabinet(this.state.context);this.panner=new tuna.Panner(this.state.context);this.phaser=new tuna.Phaser(this.state.context);this.overdrive=new tuna.Overdrive(this.state.context);this.delay=new tuna.PingPongDelay(this.state.context);this.delay2=new tuna.Delay(this.state.context);var output=this.state.context.createGain();var masterGain=this.state.context.createGain();var oscGain=this.state.context.createGain();var lfoGain=this.state.context.createGain();this.filter2.filterType=\"bandpass\";this.filter.gain=3;this.delay2.feedback.value=0.666;this.osc.connect(oscGain);this.lfo.connect(lfoGain);lfoGain.connect(oscGain.gain);oscGain.connect(this.filter);this.filter.connect(this.tremolo);this.tremolo.connect(this.chorus);this.chorus.connect(this.reverb);this.reverb.connect(this.panner);this.panner.connect(this.delay2);this.delay2.connect(this.filter2);this.filter2.connect(this.phaser);this.phaser.connect(this.overdrive);this.overdrive.connect(output);output.connect(output.gain);output.connect(masterGain);masterGain.gain.value=this.props.masterGainValue;masterGain.connect(this.state.context.destination);this.osc.start(0);this.lfo.start(0);this.state.isStarted=true;}}else{if(typeof this.osc!==\"undefined\"){if(this.state.isStarted){this.osc.stop(0);this.lfo.stop(0);this.state.isStarted=false;}}}}},{key:\"OSC4TypeChanged\",value:function OSC4TypeChanged(typeName){if(typeof this.osc!==\"undefined\"){this.osc.type=typeName;}}},{key:\"OSC4FrequencyChanged\",value:function OSC4FrequencyChanged(value){if(typeof this.osc!==\"undefined\"){this.osc.frequency.setTargetAtTime(value,this.state.context.currentTime,0.1);}}},{key:\"lfo4TypeChanged\",value:function lfo4TypeChanged(typeName){if(typeof this.osc!==\"undefined\"){this.lfo.type=typeName;}}},{key:\"lfo4FrequencyChanged\",value:function lfo4FrequencyChanged(value){if(typeof this.osc!==\"undefined\"){this.lfo.frequency.setTargetAtTime(value,this.state.context.currentTime,12);}}///filter FUNC/////////////\n},{key:\"OSC4filterDepthChanged\",value:function OSC4filterDepthChanged(value){if(typeof this.filter!==\"undefined\"){this.filter.frequency.setTargetAtTime(value,this.state.context.currentTime,12);}console.log(this.filter);}////TREMOLO FUNC/////\n},{key:\"OSC4tremoloRateChanged\",value:function OSC4tremoloRateChanged(value){if(typeof this.tremolo!==\"undefined\"){this.tremolo.rate=value;console.log(this.tremolo.rate);}console.log(this.tremolo);}/////////FILTER2 FUNC////////\n},{key:\"OSC4filter2DepthChanged\",value:function OSC4filter2DepthChanged(value){if(typeof this.filter2!==\"undefined\"){this.filter2.frequency.setTargetAtTime(value,this.state.context.currentTime,12);}console.log(this.filter2);}//////////CHORUS FUNC////////\n},{key:\"OSC4chorusDepthChanged\",value:function OSC4chorusDepthChanged(value){if(typeof this.chorus!==\"undefined\"){this.chorus.depth=value;console.log(this.chorus.depth);}console.log(this.chorus);}///////DELAY///////\n},{key:\"OSC4delay2WetLevelChanged\",value:function OSC4delay2WetLevelChanged(value){if(typeof this.delay2!==\"undefined\"){this.delay2.wetLevel.value=value;console.log(this.delay2.wetLevel.value);}}},{key:\"OSC4delay2TimeChanged\",value:function OSC4delay2TimeChanged(value){if(typeof this.delay2!==\"undefined\"){this.delay2.time=value;console.log(this.delay2);console.log(this.props.osc4delay2Time);}}/////REVERB///////\n},{key:\"OSC4reverbLevelChanged\",value:function OSC4reverbLevelChanged(value){if(typeof this.reverb!==\"undefined\"){this.reverb.level.setTargetAtTime(value,this.state.context.currentTime,2);console.log(this.reverb.level.value);}}/////PANNER////////\n},{key:\"OSC4pannerPanChanged\",value:function OSC4pannerPanChanged(value){if(typeof this.panner!==\"undefined\"){this.panner.pan.setTargetAtTime(value,this.state.context.currentTime,3);console.log(this.panner.pan.value);}}///////PHASER///////\n},{key:\"OSC4phaserFeedbackChanged\",value:function OSC4phaserFeedbackChanged(value){if(typeof this.phaser!==\"undefined\"){this.phaser.feedback=value;console.log(this.phaser.feedback);}console.log(this.phaser);}},{key:\"OSC4phaserRateChanged\",value:function OSC4phaserRateChanged(value){if(typeof this.phaser!==\"undefined\"){this.phaser.rate=value;console.log(this.phaser.rate);}console.log(this.phaser);}},{key:\"OSC4phaserDepthChanged\",value:function OSC4phaserDepthChanged(value){if(typeof this.phaser!==\"undefined\"){this.phaser.depth=value;console.log(this.phaser.depth);}console.log(this.phaser);}///OVERDRIVE////\n},{key:\"OSC4overdriveDriveChanged\",value:function OSC4overdriveDriveChanged(value){if(typeof this.overdrive!==\"undefined\"){this.overdrive.drive.value=value;}console.log(this.overdrive);}},{key:\"render\",value:function render(){if(typeof this.osc!==\"undefined\"){this.osc.onended=function(){};}console.log(this.props.lfo4Freq);console.log(this.props.lfo4Type);this.lfo4FrequencyChanged(this.props.lfo4Freq);this.lfo4TypeChanged(this.props.lfo4Type);this.turnOnOSC4(this.props.isOSC4On);this.OSC4TypeChanged(this.props.osc4Type);this.OSC4FrequencyChanged(this.props.osc4Freq);// this.OSC4chorusBypassChanged(this.props.OSC4chorusBypass);\nthis.OSC4chorusDepthChanged(this.props.osc4chorusDepth);// this.osc1filterBypassChanged(this.props.osc1filterBypass);\nthis.OSC4filterDepthChanged(this.props.osc4filterDepth);// this.osc1filter2BypassChanged(this.props.osc1filter2Bypass);\nthis.OSC4filter2DepthChanged(this.props.osc4filter2Depth);// this.osc1tremoloBypassChanged(this.props.osc1tremoloBypass);\nthis.OSC4tremoloRateChanged(this.props.osc4tremoloRate);this.OSC4delay2WetLevelChanged(this.props.osc4delay2WetLevel);this.OSC4delay2TimeChanged(this.props.osc4delay2Time);// this.osc1reverbBypassChanged(this.props.osc1reverbBypass);\nthis.OSC4reverbLevelChanged(this.props.osc4reverbLevel);// this.osc1pannerBypassChanged(this.props.osc1pannerBypass);\nthis.OSC4pannerPanChanged(this.props.osc4pannerPan);// this.osc1phaserBypassChanged(this.props.osc1phaserBypass);\nthis.OSC4phaserDepthChanged(this.props.osc4phaserDepth);this.OSC4phaserRateChanged(this.props.osc4phaserRate);this.OSC4phaserFeedbackChanged(this.props.osc4phaserFeedback);// this.OSC1overdriveBypassChanged(this.props.osc1overdriveBypass);\nthis.OSC4overdriveDriveChanged(this.props.osc4overdriveDrive);// this.OSC1overdriveGainChanged(this.props.osc1overdriveGain)\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",null,\"frequency: \",this.props.osc4Freq));}}]);return OSC4;}(React.Component);function mapStateToProps(state){return{isOSC4On:state.isOSC4On,osc4Freq:state.osc4Freq,osc4Type:state.osc4Type,lfo4Freq:state.lfo4Freq,lfo4Type:state.lfo4Type,masterGainValue:state.masterGainValue,osc4chorusBypass:state.osc4chorusBypass,osc4chorusDepth:state.osc4chorusDepth,osc4chorusRate:state.osc4chorusRate,osc4filterBypass:state.osc4filterBypass,osc4filterDepth:state.osc4filterDepth,osc4filter2Bypass:state.osc4filter2Bypass,osc4filter2Depth:state.osc4filter2Depth,osc4tremoloBypass:state.osc4tremoloBypass,osc4tremoloRate:state.osc4tremoloRate,osc4delay2WetLevel:state.osc4delay2WetLevel,osc4delay2Time:state.osc4delay2Time,osc4reverbBypass:state.osc4reverbBypass,osc4reverbLevel:state.osc4reverbLevel,osc4pannerBypass:state.osc4pannerBypass,osc4pannerPan:state.osc4pannerPan,osc4phaserBypass:state.osc4phaserBypass,osc4phaserRate:state.osc4phaserRate,osc4phaserDepth:state.osc4phaserDepth,osc4phaserFeedback:state.osc4phaserFeedback,osc4overdriveBypass:state.osc4overdriveBypass,osc4overdriveDrive:state.osc4overdriveDrive,osc4overdriveGain:state.osc4overdriveGain};}export default connect(mapStateToProps)(OSC4);","map":{"version":3,"sources":["/Users/Nanis/Flatiron/code/mod5/constellation-synth/src/components/OSC4.js"],"names":["React","connect","Tuna","OSC4","props","state","context","isStarted","contextClass","window","AudioContext","webkitAudioContext","alert","isOSC4On","tuna","osc","OscillatorNode","chorus","Chorus","lfo","filter","Filter","filter2","tremolo","Tremolo","reverb","Convolver","cabinet","Cabinet","panner","Panner","phaser","Phaser","overdrive","Overdrive","delay","PingPongDelay","delay2","Delay","output","createGain","masterGain","oscGain","lfoGain","filterType","gain","feedback","value","masterGainValue","destination","start","stop","typeName","type","frequency","setTargetAtTime","currentTime","console","log","rate","depth","wetLevel","time","osc4delay2Time","level","pan","drive","onended","lfo4Freq","lfo4Type","lfo4FrequencyChanged","lfo4TypeChanged","turnOnOSC4","OSC4TypeChanged","osc4Type","OSC4FrequencyChanged","osc4Freq","OSC4chorusDepthChanged","osc4chorusDepth","OSC4filterDepthChanged","osc4filterDepth","OSC4filter2DepthChanged","osc4filter2Depth","OSC4tremoloRateChanged","osc4tremoloRate","OSC4delay2WetLevelChanged","osc4delay2WetLevel","OSC4delay2TimeChanged","OSC4reverbLevelChanged","osc4reverbLevel","OSC4pannerPanChanged","osc4pannerPan","OSC4phaserDepthChanged","osc4phaserDepth","OSC4phaserRateChanged","osc4phaserRate","OSC4phaserFeedbackChanged","osc4phaserFeedback","OSC4overdriveDriveChanged","osc4overdriveDrive","Component","mapStateToProps","osc4chorusBypass","osc4chorusRate","osc4filterBypass","osc4filter2Bypass","osc4tremoloBypass","osc4reverbBypass","osc4pannerBypass","osc4phaserBypass","osc4overdriveBypass","osc4overdriveGain"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport Tuna from 'tunajs'\n\nclass OSC4 extends React.Component {\n  constructor(props) {\n  \tsuper(props);\n    this.state = {\n      context: [],\n      isStarted: false,\n    };\n  }\n\n  componentWillMount() {\n\tvar contextClass = (window.AudioContext || window.webkitAudioContext)\n\n\tif (contextClass) \n\t{\n\t  // Web Audio API is available.\n\t  this.state.context = new contextClass();\n\t} \n\telse \n\t{\n\t  alert('Web Audio API is not supported in this browser.')\n\t}\n\n  }\n\n  turnOnOSC4() {\n  \tif (this.props.isOSC4On) {\n\t\tif (!this.state.isStarted){\n\n\t\t// tuna context\n\t\tvar tuna = new Tuna(this.state.context);\n\n\t\t// setting effects state\n\t\tthis.osc = new OscillatorNode(this.state.context);\n\t\tthis.chorus = new tuna.Chorus(this.state.context)\n\t\tthis.lfo = new OscillatorNode(this.state.context);\n\t\tthis.filter = new tuna.Filter(this.state.context);\n\t\tthis.filter2 = new tuna.Filter(this.state.context);\n\t\tthis.tremolo = new tuna.Tremolo(this.state.context);\n\t\tthis.reverb = new tuna.Convolver(this.state.context);\n\t\tthis.cabinet = new tuna.Cabinet(this.state.context);\n\t\tthis.panner = new tuna.Panner(this.state.context);\n\t\tthis.phaser = new tuna.Phaser(this.state.context);\n\t\tthis.overdrive = new tuna.Overdrive(this.state.context);\n\t\tthis.delay = new tuna.PingPongDelay(this.state.context);\n\t\tthis.delay2 = new tuna.Delay(this.state.context)\n\t\tvar output = this.state.context.createGain();\n\t\tvar masterGain = this.state.context.createGain();\n\t\tvar oscGain = this.state.context.createGain();\n\t\tvar lfoGain = this.state.context.createGain();\n\t\tthis.filter2.filterType = \"bandpass\";\n\t\tthis.filter.gain = 3;\n\t\tthis.delay2.feedback.value = 0.666;\n\n\t\tthis.osc.connect(oscGain);\n\t\tthis.lfo.connect(lfoGain);\n\t\tlfoGain.connect(oscGain.gain)\n\t\toscGain.connect(this.filter)\n\t\tthis.filter.connect(this.tremolo)\n\t\tthis.tremolo.connect(this.chorus);\n\t\tthis.chorus.connect(this.reverb);\n\t\tthis.reverb.connect(this.panner);\n\t\tthis.panner.connect(this.delay2);\n\t\tthis.delay2.connect(this.filter2)\n\t\tthis.filter2.connect(this.phaser);\n\t\tthis.phaser.connect(this.overdrive)\n\t\tthis.overdrive.connect(output)\n\t\toutput.connect(output.gain);\n\t\toutput.connect(masterGain);\n\t\tmasterGain.gain.value = this.props.masterGainValue;\n        masterGain.connect(this.state.context.destination)\n        this.osc.start(0);\n\t\t\t\tthis.lfo.start(0);\n        this.state.isStarted = true;\n      }\n    }\n    else {\n      if(typeof this.osc !== \"undefined\") {\n        if (this.state.isStarted) {\n          this.osc.stop(0);\n\t\t\t\t\tthis.lfo.stop(0);\n          this.state.isStarted = false;\n        }\n      }\n    }\n  }\n\n  OSC4TypeChanged(typeName) {\n   \n\tif (typeof this.osc !== \"undefined\") {\n\t  this.osc.type = typeName;\n\t}\n  }\n\n  OSC4FrequencyChanged(value) {\n    \n    if (typeof this.osc !== \"undefined\") {\n\t  this.osc.frequency.setTargetAtTime(value, this.state.context.currentTime, 0.1);\n  }\n  }\n\n\tlfo4TypeChanged(typeName) {\n\tif (typeof this.osc !== \"undefined\") {\n\t  this.lfo.type = typeName;\n\t}\n  }\n\n  lfo4FrequencyChanged(value) {\n\tif (typeof this.osc !== \"undefined\") {\n\t  this.lfo.frequency.setTargetAtTime(value, this.state.context.currentTime, 12);\n\t}\n  }\n\n\t///filter FUNC/////////////\n  OSC4filterDepthChanged(value) {\n\t\tif (typeof this.filter !== \"undefined\") {\n\t\t\tthis.filter.frequency.setTargetAtTime(value, this.state.context.currentTime, 12);\n\t\t} \n\t\tconsole.log(this.filter)\n  }\n\n\t\t////TREMOLO FUNC/////\n\tOSC4tremoloRateChanged(value) {\n\t\tif (typeof this.tremolo !== \"undefined\") {\n\t\t\tthis.tremolo.rate = value;\n\t\t\tconsole.log(this.tremolo.rate)\n\t\t}\n\t\tconsole.log(this.tremolo)\n\t}\n\n\t/////////FILTER2 FUNC////////\n\tOSC4filter2DepthChanged(value) {\n\t\tif (typeof this.filter2 !== \"undefined\") {\n\t\t\tthis.filter2.frequency.setTargetAtTime(value, this.state.context.currentTime, 12);\n\t\t} \n\t\tconsole.log(this.filter2)\n\t}\n\n\t//////////CHORUS FUNC////////\n\tOSC4chorusDepthChanged(value) {\n\t\tif (typeof this.chorus !== \"undefined\") {\n\t\tthis.chorus.depth = value;\n\t\tconsole.log(this.chorus.depth)\n\t\t} \n\t\tconsole.log(this.chorus)\n\t}\n\n\n\t///////DELAY///////\n\tOSC4delay2WetLevelChanged(value) {\n\t\tif (typeof this.delay2 !== \"undefined\") {\n\t\tthis.delay2.wetLevel.value = value;\n\t\tconsole.log(this.delay2.wetLevel.value)\n\t\t}\n\t}\n\n\tOSC4delay2TimeChanged(value) {\n\t\tif (typeof this.delay2 !== \"undefined\") {\n\t\tthis.delay2.time = value;\n\t\tconsole.log(this.delay2)\n\t\tconsole.log(this.props.osc4delay2Time)\n\t\t}\n\t}\n\n\t/////REVERB///////\n\tOSC4reverbLevelChanged(value) {\n\t\tif (typeof this.reverb !== \"undefined\") {\n\t\tthis.reverb.level.setTargetAtTime(value, this.state.context.currentTime, 2)\n\t\tconsole.log(this.reverb.level.value)\n\t\t} \n\t}\n\n\t/////PANNER////////\n\tOSC4pannerPanChanged(value) {\n\t\tif (typeof this.panner !== \"undefined\") {\n\t\tthis.panner.pan.setTargetAtTime(value, this.state.context.currentTime, 3)\n\t\tconsole.log(this.panner.pan.value)\n\t\t} \n\t}\n\n\t///////PHASER///////\n\tOSC4phaserFeedbackChanged(value) {\n\t\tif (typeof this.phaser !== \"undefined\") {\n\t\tthis.phaser.feedback = value;\n\t\tconsole.log(this.phaser.feedback)\n\t\t} \n\t\tconsole.log(this.phaser)\n\t}\n\n\tOSC4phaserRateChanged(value) {\n\t\tif (typeof this.phaser !== \"undefined\") {\n\t\tthis.phaser.rate = value;\n\t\tconsole.log(this.phaser.rate)\n\t\t} \n\t\tconsole.log(this.phaser)\n\t}\n\n\tOSC4phaserDepthChanged(value) {\n\t\tif (typeof this.phaser !== \"undefined\") {\n\t\tthis.phaser.depth = value;\n\t\tconsole.log(this.phaser.depth)\n\t\t} \n\t\tconsole.log(this.phaser)\n\t}\n\n\t///OVERDRIVE////\n\n\tOSC4overdriveDriveChanged(value) {\n\t\tif (typeof this.overdrive !== \"undefined\") {\n\t\tthis.overdrive.drive.value = value;\n\t\t} \n\t\tconsole.log(this.overdrive)\n\t}\n\n  \n\n  render() {\n   \n  \tif(typeof this.osc !== \"undefined\") {\n  \t\tthis.osc.onended = function() {\n  \t\t\n  \t\t}\n  \t}\n\t\tconsole.log(this.props.lfo4Freq)\n\t\tconsole.log(this.props.lfo4Type)\n\t\tthis.lfo4FrequencyChanged(this.props.lfo4Freq)\n\t\tthis.lfo4TypeChanged(this.props.lfo4Type)\n    this.turnOnOSC4(this.props.isOSC4On);\n    this.OSC4TypeChanged(this.props.osc4Type);\n    this.OSC4FrequencyChanged(this.props.osc4Freq);\n\n\t\t// this.OSC4chorusBypassChanged(this.props.OSC4chorusBypass);\n\t\tthis.OSC4chorusDepthChanged(this.props.osc4chorusDepth);\n\n\t\t// this.osc1filterBypassChanged(this.props.osc1filterBypass);\n\t\tthis.OSC4filterDepthChanged(this.props.osc4filterDepth);\n\n\t\t// this.osc1filter2BypassChanged(this.props.osc1filter2Bypass);\n\t\tthis.OSC4filter2DepthChanged(this.props.osc4filter2Depth);\n\n\t\t// this.osc1tremoloBypassChanged(this.props.osc1tremoloBypass);\n\t\tthis.OSC4tremoloRateChanged(this.props.osc4tremoloRate);\n\n\t\tthis.OSC4delay2WetLevelChanged(this.props.osc4delay2WetLevel);\n\t\tthis.OSC4delay2TimeChanged(this.props.osc4delay2Time)\n\n\t\t// this.osc1reverbBypassChanged(this.props.osc1reverbBypass);\n\t\tthis.OSC4reverbLevelChanged(this.props.osc4reverbLevel)\n\n\t\t// this.osc1pannerBypassChanged(this.props.osc1pannerBypass);\n\t\tthis.OSC4pannerPanChanged(this.props.osc4pannerPan)\n\n\t\t// this.osc1phaserBypassChanged(this.props.osc1phaserBypass);\n\t\tthis.OSC4phaserDepthChanged(this.props.osc4phaserDepth)\n\t\tthis.OSC4phaserRateChanged(this.props.osc4phaserRate)\n\t\tthis.OSC4phaserFeedbackChanged(this.props.osc4phaserFeedback)\n\n\t\t// this.OSC1overdriveBypassChanged(this.props.osc1overdriveBypass);\n\t\tthis.OSC4overdriveDriveChanged(this.props.osc4overdriveDrive)\n\t\t// this.OSC1overdriveGainChanged(this.props.osc1overdriveGain)\n\n    return (\n\t\t<div>\n\t\t<h5>frequency: {this.props.osc4Freq}</h5>\n\t\t</div>\n\t\t)\n  }\n}\n\nfunction mapStateToProps(state){\n  return{\n    isOSC4On: state.isOSC4On,\n    osc4Freq: state.osc4Freq,\n    osc4Type: state.osc4Type,\n\t\tlfo4Freq: state.lfo4Freq,\n\t\tlfo4Type: state.lfo4Type,\n    masterGainValue: state.masterGainValue,\n\n\t\tosc4chorusBypass: state.osc4chorusBypass,\n\t\tosc4chorusDepth: state.osc4chorusDepth,\n\t\tosc4chorusRate: state.osc4chorusRate,\n\n\t\tosc4filterBypass: state.osc4filterBypass,\n\t\tosc4filterDepth: state.osc4filterDepth,\n\n\t\tosc4filter2Bypass: state.osc4filter2Bypass,\n\t\tosc4filter2Depth: state.osc4filter2Depth,\n\n\t\tosc4tremoloBypass: state.osc4tremoloBypass,\n\t\tosc4tremoloRate: state.osc4tremoloRate,\n\n\t\tosc4delay2WetLevel: state.osc4delay2WetLevel,\n\t\tosc4delay2Time: state.osc4delay2Time,\n\n\t\tosc4reverbBypass: state.osc4reverbBypass,\n\t\tosc4reverbLevel: state.osc4reverbLevel,\n\n\t\tosc4pannerBypass: state.osc4pannerBypass,\n\t\tosc4pannerPan: state.osc4pannerPan,\n\n\t\tosc4phaserBypass: state.osc4phaserBypass,\n\t\tosc4phaserRate: state.osc4phaserRate,\n\t\tosc4phaserDepth: state.osc4phaserDepth,\n\t\tosc4phaserFeedback: state.osc4phaserFeedback,\n\n\t\tosc4overdriveBypass: state.osc4overdriveBypass,\n\t\tosc4overdriveDrive: state.osc4overdriveDrive,\n\t\tosc4overdriveGain: state.osc4overdriveGain,\n  }\n}\n\nexport default connect(mapStateToProps)(OSC4);"]},"metadata":{},"sourceType":"module"}